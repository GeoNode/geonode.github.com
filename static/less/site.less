@import "bootstrap/bootstrap";

@darkBlue: #03424c;
@beige: #edeae3;
@beigeDark: #e3dfd7;
@green: #9eb343;
@orange: #e1a01f;
@footerBg: #3a5161;

@fs: @baseFontSize;
@baseFontFamily: 'Lato', sans-serif;
@monoFontFamily: 'Inconsolata', sans-serif;
@textColor: #4d4e50;
@linkColor: #0076a0;

.bg (@img, @repeat: no-repeat, @x: 0, @y: 0) {
  background:url("../img/@{img}") @repeat @x @y;
}

.bg-clr (@clr, @img, @repeat: no-repeat, @x: 0, @y: 0) {
  background:@clr url("../img/@{img}") @repeat @x @y;
}

::selection {
  background: @orange; /* Safari */
}

::-moz-selection {
  background: @orange; /* Firefox */
}

strong {
  font-weight: 400;
}

// bst overwrite
.btn {
  border:0;
  .box-shadow(none);
  text-shadow:none;
  .border-radius(3px);
}

.btn-success {
  background:@green;

  &:hover {
    background:lighten(@green, 3%);
  }
}

.btn-warning {
  background:#f6911e;

  &:hover {
    background:lighten(#f6911e, 4%);
  }
}

.container {
  position:relative;
}

// generic
header.main {
  background:@darkBlue;
  padding:10px 0;

  a.brand {
    display:block;
    width:138px;
    height:35px;
    text-indent:-9999px;
    .bg("geonode_logo.png");
    float:left;
  }

  .btn {
    font-weight:400;
    margin:10px 0 0 20px;
    padding:5px 24px 6px;
    font-size:15px;
  }
}

section.banner {
  .bg-clr(@beige, "banner_bg.png", repeat-x, left, bottom);
  color:@white;
  padding:30px 0 40px;
  height: 440px;

  h1 {
    font-weight:300;
    font-size:36px;
    line-height:50px;
  }

  p {
    line-height:25px;
    font-weight:300;
    margin:0 40px 25px 0;
  }

  .btn-large {
    font-size:29px;
    padding:10px 43px;
  }

  img.hero-img {
    margin-top:20px;
  }
}

section.body {
  background: @beige;
  padding-bottom:20px;

  .box {
    background: @beigeDark;
    padding:15px 0;
    text-align:center;
    overflow:visible;
    margin:93px 20px 30px;
    min-height:360px;

    a.header-link {
      color:@white;

      header.box-header {
        width:243px;
        height:130px;
        color:@white;
        position:relative;
        margin:-94px auto 20px;

        h2 {
          font-size:@fs + 6;
          padding-top:78px;
          font-weight: 400;
          color:@white;

          &:hover {
            color:@orange;
          }
        }
      }

      &:hover {
        color:@orange;
        text-decoration:none;
      }
    }

    &.box-users header.box-header { .bg("hd_users.png"); }
    &.box-devs header.box-header { .bg("hd_devs.png"); }
    &.box-admins header.box-header { .bg("hd_admins.png"); }

    ul.unstyled {
      font-weight:700;
      margin:0 20px;

      li {
        margin-bottom:14px;
      }
    }
  }
}

footer.footer {
  .bg-clr(#395060, "footer_bg.png", repeat-x);
  padding-top:40px;
  color:@white;

  a {
    color:@white;

    &:hover {
      color:@orange;
      text-decoration:none;
    }
  }

  .important-links a:hover {
    p {
    color:@white;
    }
  }

  .quick-start {
    width:88px;
    height:295px;
    .bg("quick_start.png");
    text-indent:-9999px;
    margin-top:-46px;
  }

  .get-started {
    background:#23323b;
    padding:5px 20px 18px;
    margin:8px 0 40px 36px;
    overflow:hidden;

    h2 {
      font-weight:300;
      font-size:29px;
      margin-bottom:15px;
    }

    ul.steps {
      li {
        float:left;
        width:208px;
        position:relative;
        margin:0 30px;

        &.last { margin-right:0; }

        .num {
          background:@linkColor;
          position:absolute;
          top:0;
          left:-30px;
          padding:0 7px;
          .border-radius(20px);
          font-weight:300;
        }

        h6 {
          font-weight:300;
          font-size:16px;
          line-height:16px;
          margin:0 0 10px;
        }

        span {
          font-size:12px;
          line-height:14px;
        }

        span.mono {
            color:@grayLight;
            font-size:16px;
            line-height:16px;
          }
      }
    }
  }

  article {
    padding-left:100px;
    width:194px;
    margin:0 0 55px 80px;

    &.documentation { .bg("icons/documentation.png"); }
    &.mailing-list { .bg("icons/mailing_list.png"); }
    &.issue-tracker { .bg("icons/issue_tracker.png", no-repeat, 10px, 0); }
    &.faqs { .bg("icons/faqs.png", no-repeat, 20px, 0); }
    &.irc { .bg("icons/irc.png"); }
    &.sites-gallery { .bg("icons/sites_gallery.png", no-repeat, 10px, 0); }
    background-size: auto 100%;

    h3 {
      font-size:21px;
      margin-bottom:0;
    }

    p {
      line-height:24px;
    }
  }

  section.btm {
    border-top:1px solid @white;
    padding:19px 0;
    font-size:11px;
    font-weight:700;

    .social {
      a {
        display:block;
        width:27px;
        height:26px;
        text-indent:-9999px;
        float:left;
        margin-left:10px;
        .bg("social.png");

        &.gh { background-position: 0 0; }
        &.tw { background-position: -40px 0; }
        &.gp { background-position: -79px 0; }
      }
    }
  }
}

.mono {
  font-family: @monoFontFamily;
}

.nav-coll {
  .btn-nav-coll {
    padding: 7px 10px;
    margin: 2px 0 0;
    background: #055f6d;
    height: 40px;
    border: none;

    .icon-bar {
      display: block;
      width: 28px;
      height: 5px;
      background: #900;
      background: rgba(1, 17, 19, 0.33);
      border: none;
      .box-shadow(none);
    }

    .icon-bar + .icon-bar {
      margin-top: 5px;
    }
  }

  .dropdown-menu {
    background: #01262c;
    background: rgba(1,38,44,0.9);
    .border-radius(0);
    margin-top:10px;
    border: none;

    &::before {
      position: absolute;
      top: -7px;
      left: 9px;
      display: inline-block;
      border-right: 7px solid transparent;
      border-bottom: 7px solid #01262c;
      border-left: 7px solid transparent;
      border-bottom-color: rgba(0, 0, 0, 0.3);
      content: '';
    }

    a {
      color:@white;
      text-transform:uppercase;
      font-weight: 300;
      margin-bottom: 6px;

      &:hover {
        background:#011418;
      }
    }
  }
}

/*#sequence {
    height: 370px;
    margin: 40px auto;
    position: relative;
    width: 980px;
    overflow:hidden;
} */

// Page specific styles
body.geonode-features {
  section.banner {
    .bg-clr(@beige, "banner_bg.png", repeat-x, left, bottom);

    h1 {
      strong {
        font-weight: 400;
      }

      span {
        color: @darkBlue;
      }
    }
  }

  section.body {
    padding-top:12px;
    background:@beige;

    nav.subnav {
      overflow:hidden;

      h5 {
        float:left;
        margin-right:10px;
        font-size: 15px;
      }

      ul {
        margin-top: 10px;

        li {
          display: inline;
          margin:0 10px;

          a {
            color: @darkBlue;
            font-size: 15px;
            line-height: 20px;

            &:hover {
              text-decoration: none;
              color: @orange;
            }
          }
        }
      }
    }

    .link-extra {
      margin-top: 10px;

      a {
        color: @darkBlue;
        font-size: 15px;
        line-height: 20px;

        &:hover {
          text-decoration: none;
          color: @orange;
        }
      }
    }
  }

  section.feature-details {
    #gradient > .vertical-three-colors(@beige, @white, @colorStop: 75%, @endColor: #f2efea);
    border-bottom: 1px solid #cddcde;
    padding-bottom: 20px;

    .feature-block {
      margin: 129px 0 0 50px;
    }

    .highlighted-box {
      margin: 80px 0 0 60px;
      .bg("box.png");
      padding-left: 36px;
      min-height:368px;

      h2 {
        color: @darkBlue;
        font-weight:300;
        font-size: 43px;
        margin-bottom: 17px;

        strong {
          font-weight:400;
        }
      }

      h4 {
        font-size: 14px;
        font-weight: 400;
        color: @white;
        margin-bottom:30px;
      }

      ul {
        li {
          .bg("bullet.png", no-repeat, 0, 3px);
          padding-left: 23px;
          margin: 20px 0;
        }
      }

      .btn {
        margin-left: 80px;
        font-size: 16px;
        font-weight:300;
        padding: 6px 17px;
      }
    }

    .number {
      &.one {
        .bg("numbers/one.png", no-repeat, right, top);
      }

      &.two {
        .bg("numbers/two.png", no-repeat, left, top);
      }

      &.three {
        .bg("numbers/three.png", no-repeat, right, top);
      }

      &.four {
        .bg("numbers/four.png", no-repeat, left, top);
      }

      &.five {
        .bg("numbers/five.png", no-repeat, right, top);
      }
    }

    &.feature2 {
      padding-top: 40px;
      #gradient > .vertical-three-colors(#f0ede7, @white, @colorStop: 75%, @endColor: #edeae3);

      .highlighted-box {
        margin-left: 97px;
      }
    }

    &.feature3 {
      padding-top: 40px;
      #gradient > .vertical-three-colors(#edeae3, @white, @colorStop: 75%, @endColor: #f3f1ec);
    }
  }

  &.user-features {
    section.feature-details {
      img.feature-img {
        margin-top: 120px;
        .opacity(50);
      }

      &.feature1 {
        img.feature-img {
          margin-left: 60px;
        }
      }

      &.feature2 {
        img.feature-img {
          margin-left: 60px;
        }
      }
    }
  }

  &.dev-features {
    section.feature-details {
      img.feature-img {
        margin-top: 120px;
        .opacity(50);
      }

      &.feature1 {
        .highlighted-box {
          background-position: 0 0px;
        }
      }

      &.feature2 {
        img.feature-img {
          margin-left: 60px;
        }
      }

      &.feature3 {
        img.feature-img {
          margin-left: 30px;
        }
      }
    }
  }

  &.admin-features {
    section.feature-details {
      img.feature-img {
        margin-top: 120px;
        .opacity(50);
      }

      &.feature1 {
        .highlighted-box {
          background-position: 0 40px;
        }
      }

      &.feature2 {
        img.feature-img {
          margin-left: 60px;
        }
      }

      &.feature3 {
        img.feature-img {
          margin-left: 30px;
        }
      }
    }
  }

  &.sites-gallery {
    section.feature-details {
      img.feature-img {
        margin-top: 127px;
      }

      &.feature2 {
        .highlighted-box {
          margin-left: 10px;
          margin-right: 87px;
        }
      }
    }
  }

  section.continue {
    background: #f3f1ec;
    padding-top: 50px;

    a {
      display: block;
      font-size: 15px;
      height: 100px;
      color: @textColor;
      text-align: center;
      .bg("arrow_down.png", no-repeat, center, 36px);
      margin: 30px 0 70px;

      &:hover {
        text-decoration: none;
        color: @orange;
      }
    }
  }

  section.feature-details {
    #gradient > .vertical-three-colors(@beige, @white, @colorStop: 75%, @endColor: #f2efea);
    padding-top: 30px;

    h1 {
      font-weight: 300;
      color: @darkBlue;
      font-size: 43px;
      margin-bottom: 17px;

      strong {
        font-weight: 400;
      }
    }

    article {
      &.article2 {
        margin-top: 50px;

        h5 {
          margin-bottom: 25px;
        }

        ul.unstyled {
          font-style: italic;
          margin: 30px 0 30px 12px;
        }
      }
    }

    .box2 {
      .bg("box2.png");
      .size(335px, 350px);
      margin: -200px 0 0 -18px;

      h4 {
        padding:222px 0 0 19px;
        font-size: 14px;

        a {
          color: @white;
          font-weight: 400;

          &:hover {
            text-decoration: none;
          }
        }
      }
    }

    .btn-next {
      .border-radius(0);
      margin: 20px 10px 40px 0;
      padding: 6px 17px;

      .arrow-right {
        .bg("arrow_right.png", no-repeat, right, center);
        display: block;
        padding-right: 25px;
      }
    }
  }
}

// communication
body.communication {
  article.comm-email {
    border-bottom: 1px solid #ddd;
    padding-top: 30px;
    padding-bottom: 30px;
    margin-bottom: 30px;
  }

  article.article1 {
    margin-bottom: 50px;

    img.icon {
      float: left;
      margin: 0 15px 10px 0;
      .opacity(50);
    }
  }
}

// workshops
body.workshops {
  article.comm-email {
    border-bottom: 1px solid #ddd;
    padding-top: 30px;
    padding-bottom: 30px;
    margin-bottom: 30px;
  }

  article.article1 {
    margin-bottom: 100px;

    img.icon {
      float: left;
      margin: 0 15px 10px 0;
      .opacity(50);
    }
  }
}
